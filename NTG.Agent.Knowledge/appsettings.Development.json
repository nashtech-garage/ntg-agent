{
  "KernelMemory": {
    "Service": {
      "RunWebService": true,
      "RunHandlers": false,
      "OpenApiEnabled": false,
      "SendSSEDoneMessage": true,
      "Handlers": {},
      "MaxUploadSizeMb": null
    },
    "ContentStorageType": "",
    "DocumentStorageType": "SimpleFileStorage",
    "TextGeneratorType": "AzureOpenAIText",
    "ContentModerationType": "",
    "DefaultIndexName": "default",
    "ServiceAuthorization": {
      "Enabled": true,
      "AuthenticationType": "APIKey",
      "HttpHeaderName": "Authorization",
      "AccessKey1": "Blm8d7sFx7arM9EN2QUxGy7yUjCyvRjx",
      "AccessKey2": "6ULgjWVzprRW5LgK6UzOGNAJt2orA4uI"
    },
    "DataIngestion": {
      "OrchestrationType": "InProcess",
      "DistributedOrchestration": {
        "QueueType": ""
      },
      "EmbeddingGenerationEnabled": true,
      "EmbeddingGeneratorTypes": [
        "AzureOpenAIEmbedding"
      ],
      "MemoryDbTypes": [
        "SqlServer"
      ],
      "MemoryDbUpsertBatchSize": 1,
      "ImageOcrType": "None",
      "TextPartitioning": {
        "MaxTokensPerParagraph": 1000,
        "OverlappingTokens": 100
      },
      "DefaultSteps": []
    },
    "Retrieval": {
      "MemoryDbType": "SqlServer",
      "EmbeddingGeneratorType": "AzureOpenAIEmbedding",
      "SearchClient": {
        "MaxAskPromptSize": -1,
        "MaxMatchesCount": 100,
        "AnswerTokens": 300,
        "EmptyAnswer": "INFO NOT FOUND",
        "FactTemplate": "==== [File:{{$source}};Relevance:{{$relevance}}]:\n{{$content}}",
        "IncludeDuplicateFacts": false,
        "Temperature": 0.0,
        "TopP": 0.0,
        "PresencePenalty": 0.0,
        "FrequencyPenalty": 0.0,
        "StopSequences": [],
        "TokenSelectionBiases": {},
        "UseContentModeration": true,
        "ModeratedAnswer": "Sorry, the generated content contains unsafe or inappropriate information."
      }
    },
    "Services": {
      "SimpleFileStorage": {
        "Directory": "/ntgfilestore",
        "StorageType": "Disk"
      },
      "AzureOpenAIEmbedding": {
        "APIType": "EmbeddingGeneration",
        "Endpoint": "",
        "Deployment": "text-embedding-ada-002",
        "Tokenizer": "cl100k",
        "Auth": "ApiKey",
        "APIKey": ""
      },
      "AzureOpenAIText": {
        "Auth": "ApiKey",
        "Endpoint": "",
        "APIKey": "",
        "Deployment": "gpt-4o-mini",
        "Tokenizer": "o200k"
      },
      "SqlServer": {
        // MS SQL Server Connection string, e.g.
        //    "Server=tcp:127.0.0.1,1433;Initial Catalog=master;Persist Security Info=False;User ID=sa;Password=00_CHANGE_ME_00;MultipleActiveResultSets=False;TrustServerCertificate=True;Connection Timeout=30;"
        "ConnectionString": "Server=.;Database=NTGAgent;Trusted_Connection=True;TrustServerCertificate=true;MultipleActiveResultSets=true",
        "Schema": "dbo",
        "MemoryCollectionTableName": "KMCollections",
        "MemoryTableName": "KMMemories",
        "EmbeddingsTableName": "KMEmbeddings",
        "TagsTableName": "KMMemoriesTags",
        // See https://learn.microsoft.com/sql/relational-databases/vectors/vectors-sql-server?view=azuresqldb-current
        "UseNativeVectorSearch": false,
        "VectorSize": 1536
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Warning"
    }
  },
  "AllowedHosts": "*"
}